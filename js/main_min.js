function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:9.919504,lng:78.119364},zoom:15}),informationPopUp=new google.maps.InfoWindow;for(var a=famousPlaces.length,e=0;a>e;e++){var i=famousPlaces[e].location,n=famousPlaces[e].title,t=famousPlaces[e].web,o=famousPlaces[e].img;marker=new google.maps.Marker({map:map,position:i,title:n,web:t,label:labels[labelIndex++%labels.length],img:o,animation:google.maps.Animation.DROP,info:famousPlaces[e].informationPopUp,img:famousPlaces[e].img}),famousPlaces[e].markerObject=marker,marker.addListener("click",function(){openInfo(this,informationPopUp)})}}function openInfo(a,e){var a=a,i="http://en.wikipedia.org/w/api.php?action=opensearch&search="+a.title+"&format=json&callback=wikiCallback",n=setTimeout(function(){alert("Could Not get wikipedia resources. Try again later.")},9e3);$.ajax({url:i,dataType:"jsonp",success:function(i){var t=i[1],o="http://en.wikipedia.org/wiki/"+t;e.marker!=a&&(e.marker=a,a.addListener("click",toggleBounce(a)),e.setContent("<div><img class='info-pic' src='"+a.img+"'/><br /></div><div class='window'>"+a.title+"</div><br /><br /><a href='"+o+"'>"+o+"</a></p>"),e.open(map,a),e.addListener("closeclick",function(){})),clearTimeout(n)}})}function toggleBounce(a){null!==a.getAnimation()?a.setAnimation(null):(a.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},1400))}jQuery(function(a){a(".menu-btn").click(function(){a(".responsive-menu").toggleClass("expand")})});var map,marker,informationPopUp,labels="1234567890",labelIndex=0,famousPlaces=[{title:"Meenakshi Amman Temple",location:{lat:9.919504,lng:78.119364},img:"img/00.temple-min.png",web:"https://www.maduraimeenakshi.org/"},{title:"Jigarthanda(Drink)",location:{lat:9.917927,lng:78.124907},img:"img/02.jigathanda-min.png",web:"http://www.famousjigarthanda.com/"},{title:"Thirumalai Nayakar Mahal",location:{lat:9.915119,lng:78.123774},img:"img/03.mahal-min.png",web:"http://www.madurai.com/palace.htm"},{title:"Gandhi Memorial Museum",location:{lat:9.930147,lng:78.138614},img:"img/04.Gandhi-Museum-Madurai-150x150-min.png",web:"www.gandhimmm.org/"},{title:"Koodal Azhagar Temple",location:{lat:9.914408,lng:78.113818},img:"img/05.katemple-min.png",web:"koodalalagartemple.tnhrce.in/"},{title:"Murugan Idli Shop",location:{lat:9.916218,lng:78.115625},img:"img/06.idly-kadai-1-min.png",web:"koodalalagartemple.tnhrce.in/"},{title:"St. Mary's Cathedral",location:{lat:9.91421,lng:78.125664},img:"img/07.cathedral-min.png",web:"http://www.hoparoundindia.com/tamilnadu/madurai-attractions/st.-mary%E2%80%99s-cathedral-church.aspx"}],AppViewModel=function(){var a=this;a.famousPlaces=ko.observable(famousPlaces),a.clickOver=function(a){map.setZoom(25),map.setCenter(a.location),openInfo(a.markerObject,informationPopUp)},a.inputLoc=ko.observable(""),a.locSearch=ko.computed(function(){var e=ko.utils.arrayFilter(a.famousPlaces(),function(e){return e.title.toLowerCase().indexOf(a.inputLoc().toLowerCase())>=0?(e.markerObject&&e.markerObject.setVisible(!0),!0):(e.markerObject&&e.markerObject.setVisible(!1),!1)});return e})},googleAlert=function(){alert("Ahhhhhhh.. Snap.....Google Maps hates slowwwwww server")};ko.applyBindings(new AppViewModel);
